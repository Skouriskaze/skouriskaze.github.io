<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=720">
    <title> Jesse's Bootstrap </title>

    <style>
        canvas {
            margin-left: auto;
            margin-right: auto;
            border: 1px solid black;
        }
    </style>

</head>
<body>
    <div> 
        <canvas id="joystick1" width="720" height="720"> </canvas>
    </div>

    <script>
        const square_width = 30;

        var joystick1 = document.getElementById("joystick1");
        var ctx1 = joystick1.getContext("2d");
        var sprites = [];
        var img = new Image();
        img.src = 'game/crosshair.png'

        joystick1.width = window.screen.availWidth;
        joystick1.height = window.screen.availHeight;

        function onClick(e) {
            var x = e.clientX - joystick1.offsetLeft - square_width / 2;
            var y = e.clientY - joystick1.offsetTop - square_width / 2;
            ctx1.fillStyle = "blue";

            console.log(x);
            console.log(y);

            //ctx1.fillRect(x, y, square_width, square_width);
            
        }
        function touchStart(e) {
            e.preventDefault();

            ctx1.fillStyle = "blue";
            var touch = e.touches[0];
            var x = touch.pageX - square_width / 2;
            var y = touch.pageY - square_width / 2;

            ctx1.fillRect(x, y, square_width, square_width);
        }
        
        function touchEnd(e) {
        }

        function gameLoop() {
            
        }

        joystick1.addEventListener('touchstart', touchStart, false);
        joystick1.addEventListener('touchend', touchEnd, false);
        joystick1.addEventListener('click', onClick, false);
    </script>
</body>
</html>
